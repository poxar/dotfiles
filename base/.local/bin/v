#!/bin/sh
set -eu

EDITOR="${EDITOR:-vi}"
VIMNAME="${VIMNAME:-""}"

if test "$(basename "$EDITOR")" = "vim" && test -x "$(command -v gvim)"; then
  if test "$VIMNAME"; then
    gvim --remote-silent --servername "$VIMNAME" "$@"
  else
    gvim --remote-silent "$@"
  fi
else
  "$EDITOR" "$@"
fi

# Main escape key
escape C-period
bind C-period other

# Secondary escape key
definekey top s-period readkey root
bind s-period other
bind period other

bind Escape abort

# Settings
set warp 1
set wingravity c
set resizeunit 10
set startupmessage 0
set historysize 300
set border 0

# External commands
alias gmenu exec ~/.local/libexec/rp_gmenu
alias wmenu exec ~/.local/libexec/rp_wmenu
alias autolayout exec ~/.local/libexec/rp_autolayout
alias ror exec ~/.local/libexec/rp_ror
alias layout exec ~/.local/libexec/rp_layout
alias nrestore exec ~/.local/libexec/rp_nrestore
alias nsave exec ~/.local/libexec/rp_nsave

# Always restore group layout
addhook switchgroup autolayout

# focus switching etc
definekey top M-Tab next
definekey top M-ISO_Left_Tab prev
definekey top M-grave inext
definekey top M-asciitilde iprev
bind backslash gother
bind C-backslash gother
bind apostrophe wmenu
bind g gmenu
bind grave focuslast

# Launching and starting
definekey top M-p exec dmenu_run
bind c exec termite
bind F ror firefox
bind T ror termite
bind C ror termite

# Split and unsplit
bind s hsplit 2/3
bind C-s hsplit
bind S hsplit
bind C-S split 2/3
bind q only
bind C-q only

# Information
bind I exec ratpoison -c "echo $(acpi)"
bind W exec sh /usr/local/share/ratpoison/allwindows.sh

# Screenshots
bind Print exec scrot -s -e 'imv $f' $HOME/tmp/'%Y-%m-%d-%H%M%S_scrot.png'
bind C-Print exec scrot -e 'imv $f' $HOME/tmp/'%Y-%m-%d-%H%M%S_scrot.png'
bind S-Print exec scrot -m -e 'imv $f' $HOME/tmp/'%Y-%m-%d-%H%M%S_scrot.png'

# save and restore window layouts
bind M-exclam     nsave 1
bind M-1          nrestore 1
bind M-at         nsave 2
bind M-2          nrestore 2
bind M-numbersign nsave 3
bind M-3          nrestore 3
bind M-dollar     nsave 4
bind M-4          nrestore 4
bind M-percentage nsave 5
bind M-5          nrestore 5

# Startup sequence
bind comma layout
